{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bouku\\\\Desktop\\\\Time Tracker\\\\time-tracker\\\\src\\\\components\\\\Timer\\\\Timer.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { setTimeAction } from \"../../store/timeReducer\";\nimport { setStatusAction, setLittlePauseAction, setFirstRunAction } from \"../../store/timerStatus\";\nimport { defaultTimerSetting, timerPauseSetting } from \"../../utilites/timerSettings\";\nimport { useLocalStorage } from \"../../hooks/useLocalStorage\";\nimport InputTimer from \"./InputTimer/InputTimer\";\nimport TimerSpan from \"./TimerSpan/TimerSpan\";\nimport TimerImg from \"./TimerImg/TimerImg\";\nimport classes from \"../Timer/Timer.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Timer = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const timer = useSelector(state => state.time.timer);\n  const status = useSelector(state => state.status);\n  const totalCount = useSelector(state => state.totalCount.totalCount);\n  let updateM = timer.minutes,\n      updateS = timer.seconds; // SAVE AND LOAD LOCAL STORAGE //\n\n  useLocalStorage(\"SETTING:LITTLE_PAUSE_STATUS\", status.littlePause, setLittlePauseAction);\n  useLocalStorage(\"DATA:FIRST_RUN_STATUS\", status.firstRun, setFirstRunAction);\n  useLocalStorage(\"DATA:TIMER\", timer, setTimeAction); // AUTO PLAY AFTER WORK //\n\n  useEffect(() => {\n    if (status.littlePause && status.reloadStatus) dispatch(setStatusAction({\n      play: true\n    }));\n  }, [status.littlePause]);\n\n  const setRun = () => dispatch(setFirstRunAction(false)); //  TIMER CORE // DONT TOUCH !!! //\n\n\n  useEffect(() => {\n    if (status.play) {\n      if (status.firstRun) dispatch(setFirstRunAction(false));\n      const intervalId = setInterval(() => {\n        if (updateM === 0 && updateS === 1) {\n          dispatch(setStatusAction({\n            play: !status.play\n          }));\n\n          if (!status.littlePause) {\n            dispatch(timerPauseSetting({\n              status,\n              totalCount\n            }));\n            return clearInterval(intervalId);\n          } else dispatch(defaultTimerSetting());\n\n          return clearInterval(intervalId);\n        }\n\n        if (updateS === 0) {\n          updateS = 60;\n          updateM--;\n        }\n\n        updateS--;\n        dispatch(setTimeAction({\n          minutes: updateM,\n          seconds: updateS\n        }));\n      }, 1000);\n      return () => clearInterval(intervalId);\n    }\n  }, [status.play, status.littlePause]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.timer,\n    children: [/*#__PURE__*/_jsxDEV(TimerSpan, {\n      timer: timer\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(TimerImg, {\n      timer: timer\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(InputTimer, {\n      status: status,\n      setFirstRun: setRun\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Timer, \"I47DvLYm8QGRVekndTTmjqHVtO0=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useLocalStorage, useLocalStorage, useLocalStorage];\n});\n\n_c = Timer;\nexport default Timer;\n\nvar _c;\n\n$RefreshReg$(_c, \"Timer\");","map":{"version":3,"sources":["C:/Users/bouku/Desktop/Time Tracker/time-tracker/src/components/Timer/Timer.jsx"],"names":["React","useEffect","useSelector","useDispatch","setTimeAction","setStatusAction","setLittlePauseAction","setFirstRunAction","defaultTimerSetting","timerPauseSetting","useLocalStorage","InputTimer","TimerSpan","TimerImg","classes","Timer","dispatch","timer","state","time","status","totalCount","updateM","minutes","updateS","seconds","littlePause","firstRun","reloadStatus","play","setRun","intervalId","setInterval","clearInterval"],"mappings":"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","sourcesContent":["import React, {useEffect} from \"react\";\r\nimport {useSelector, useDispatch} from \"react-redux\";\r\nimport {setTimeAction} from \"../../store/timeReducer\";\r\nimport {\r\n\tsetStatusAction,\r\n\tsetLittlePauseAction,\r\n\tsetFirstRunAction,\r\n} from \"../../store/timerStatus\";\r\nimport {\r\n\tdefaultTimerSetting,\r\n\ttimerPauseSetting,\r\n} from \"../../utilites/timerSettings\";\r\nimport {useLocalStorage} from \"../../hooks/useLocalStorage\";\r\nimport InputTimer from \"./InputTimer/InputTimer\";\r\nimport TimerSpan from \"./TimerSpan/TimerSpan\";\r\nimport TimerImg from \"./TimerImg/TimerImg\";\r\nimport classes from \"../Timer/Timer.module.css\";\r\n\r\nconst Timer = () => {\r\n\tconst dispatch = useDispatch();\r\n\tconst timer = useSelector((state) => state.time.timer);\r\n\tconst status = useSelector((state) => state.status);\r\n\tconst totalCount = useSelector((state) => state.totalCount.totalCount);\r\n  let updateM = timer.minutes,\r\n  updateS = timer.seconds;\r\n\r\n  // SAVE AND LOAD LOCAL STORAGE //\r\n\r\n\tuseLocalStorage(\r\n\t\t\"SETTING:LITTLE_PAUSE_STATUS\",\r\n\t\tstatus.littlePause,\r\n\t\tsetLittlePauseAction,\r\n\t);\r\n\tuseLocalStorage(\"DATA:FIRST_RUN_STATUS\", status.firstRun, setFirstRunAction);\r\n\tuseLocalStorage(\"DATA:TIMER\", timer, setTimeAction);\r\n\r\n\t// AUTO PLAY AFTER WORK //\r\n\r\n\tuseEffect(() => {\r\n\t\tif (status.littlePause && status.reloadStatus)\r\n\t\t\tdispatch(setStatusAction({play: true}));\r\n\t}, [status.littlePause]);\r\n\r\n\tconst setRun = () => dispatch(setFirstRunAction(false));\r\n\r\n\t//  TIMER CORE // DONT TOUCH !!! //\r\n\r\n\tuseEffect(() => {\r\n\t\tif (status.play) {\r\n\t\t\tif (status.firstRun) dispatch(setFirstRunAction(false));\r\n\t\t\tconst intervalId = setInterval(() => {\r\n\t\t\t\tif (updateM === 0 && updateS === 1) {\r\n\t\t\t\t\tdispatch(setStatusAction({play: !status.play}));\r\n\t\t\t\t\tif (!status.littlePause) {\r\n\t\t\t\t\t\tdispatch(timerPauseSetting({status, totalCount}));\r\n\t\t\t\t\t\treturn clearInterval(intervalId);\r\n\t\t\t\t\t} else dispatch(defaultTimerSetting());\r\n\t\t\t\t\treturn clearInterval(intervalId);\r\n\t\t\t\t}\r\n\t\t\t\tif (updateS === 0) {\r\n\t\t\t\t\tupdateS = 60;\r\n\t\t\t\t\tupdateM--;\r\n\t\t\t\t}\r\n\t\t\t\tupdateS--;\r\n\t\t\t\tdispatch(setTimeAction({minutes: updateM, seconds: updateS}));\r\n\t\t\t}, 1000);\r\n\t\t\treturn () => clearInterval(intervalId);\r\n\t\t}\r\n\t}, [status.play, status.littlePause]);\r\n\r\n\treturn (\r\n\t\t<div className={classes.timer}>\r\n\t\t\t<TimerSpan timer={timer} />\r\n\t\t\t<TimerImg timer={timer} />\r\n\t\t\t<InputTimer status={status} setFirstRun={setRun} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Timer;\r\n"]},"metadata":{},"sourceType":"module"}